version: 2
updates:
  - package-ecosystem: github-actions
    open-pull-requests-limit: 10
    directory: /
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: monthly
    groups:
      # 1 PR for every single dependency is overkill (it's tedious to have to wade through 20 dependabot PRs!).
      # However, for certain key dependencies that are important or have had a history of initially failing the
      # build on upgrade, we want to keep them in their own PRs. We've listed them in `exclude_patterns` below.
      transitive-and-easy-upgrade-dependencies:
        patterns: ["*"]
        exclude-patterns:
          - "elasticsearch" # listed here as gem releases align with releases of Elasticsearch itself, and a PR notifies us of it
          - "graphql"
          - "json_schemer"
          - "rack"
          - "rbs"
          - "standard"
          - "steep"

  - package-ecosystem: bundler
    open-pull-requests-limit: 20
    directory: /
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: weekly

  - package-ecosystem: bundler
    open-pull-requests-limit: 10
    directory: /config/release
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: weekly

  - package-ecosystem: npm
    directory: /config/site
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: weekly

  - package-ecosystem: docker
    directory: /elasticgraph-apollo/apollo_tests_implementation
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: weekly

  - package-ecosystem: docker
    directory: /elasticgraph-local/lib/elastic_graph/local/elasticsearch
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: weekly

  - package-ecosystem: docker
    directory: /elasticgraph-local/lib/elastic_graph/local/opensearch
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: weekly

  - package-ecosystem: pip
    directory: /ai_tools/elasticgraph-mcp-server
    allow:
      - dependency-type: "all" # Allow both direct and transitive updates for all packages.
    schedule:
      interval: weekly
