# This is the "public" JSON schema file and is intended to be provided to publishers so that
# they can perform code generation and event validation.
#
# Generated by `bundle exec rake schema_artifacts:dump`.
# DO NOT EDIT BY HAND. Any edits will be lost the next time the rake task is run.
---
"$schema": http://json-schema.org/draft-07/schema#
json_schema_version: 1
"$defs":
  ElasticGraphEventEnvelope:
    type: object
    description: Required by ElasticGraph to wrap every data event.
    properties:
      op:
        description: Indicates what type of operation the event represents. For now,
          only `upsert` is supported, but we plan to support other operations in the
          future.
        type: string
        enum:
        - upsert
      type:
        description: The type of object present in `record`.
        type: string
        enum:
        - Address
        - Component
        - ElectricalPart
        - Manufacturer
        - MechanicalPart
        - Sponsor
        - Team
        - Widget
        - WidgetWorkspace
      id:
        description: The unique identifier of the record.
        type: string
        maxLength: 8191
      version:
        description: Used to handle duplicate and out-of-order events. When ElasticGraph
          ingests multiple events for the same `type` and `id`, the one with the largest
          `version` will "win".
        type: integer
        minimum: 0
        maximum: 9223372036854775807
      record:
        description: The record of this event. The payload of this field must match
          the JSON schema of the named `type`.
        type: object
      latency_timestamps:
        description: Timestamps from which ElasticGraph measures indexing latency.
          The `ElasticGraphIndexingLatencies` log message produced for each event
          will include a measurement from each timestamp included in this map.
        type: object
        additionalProperties: false
        patternProperties:
          description: A timestamp from which ElasticGraph will measure indexing latency.
            The timestamp name must end in `_at`.
          "^\\w+_at$":
            type: string
            format: date-time
      json_schema_version:
        description: The version of the JSON schema the publisher was using when the
          event was published. ElasticGraph will use the JSON schema matching this
          version to process the event.
        const: 1
      message_id:
        description: The optional ID of the message containing this event from whatever
          messaging system is being used between the publisher and the ElasticGraph
          indexer.
        type: string
    additionalProperties: false
    required:
    - op
    - type
    - id
    - version
    - json_schema_version
    if:
      properties:
        op:
          const: upsert
    then:
      required:
      - record
  Address:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      full_address:
        allOf:
        - "$ref": "#/$defs/String"
        - maxLength: 8191
      timestamps:
        anyOf:
        - "$ref": "#/$defs/AddressTimestamps"
        - type: 'null'
      geo_location:
        anyOf:
        - "$ref": "#/$defs/GeoLocation"
        - type: 'null'
      shapes:
        type: array
        items:
          "$ref": "#/$defs/GeoShape"
      manufacturer_id:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/ID"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: Address
        default: Address
    required:
    - id
    - full_address
    - timestamps
    - geo_location
    - shapes
    - manufacturer_id
  AddressTimestamps:
    type: object
    properties:
      created_at:
        anyOf:
        - "$ref": "#/$defs/DateTime"
        - type: 'null'
      __typename:
        type: string
        const: AddressTimestamps
        default: AddressTimestamps
    required:
    - created_at
  Affiliations:
    type: object
    properties:
      sponsorships_nested:
        type: array
        items:
          "$ref": "#/$defs/Sponsorship"
      sponsorships_object:
        type: array
        items:
          "$ref": "#/$defs/Sponsorship"
      __typename:
        type: string
        const: Affiliations
        default: Affiliations
    required:
    - sponsorships_nested
    - sponsorships_object
  Boolean:
    type: boolean
  Color:
    type: string
    enum:
    - RED
    - BLUE
    - GREEN
  Company:
    type: object
    properties:
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      stock_ticker:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: Company
        default: Company
    required:
    - name
    - stock_ticker
  Component:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      created_at:
        "$ref": "#/$defs/DateTime"
      position:
        "$ref": "#/$defs/Position"
      tags:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
      part_ids:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/ID"
          - maxLength: 8191
      owner_ids:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/ID"
          - maxLength: 8191
      owner_id:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/ID"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: Component
        default: Component
    required:
    - id
    - name
    - created_at
    - position
    - tags
    - part_ids
    - owner_ids
    - owner_id
  Date:
    type: string
    format: date
  DateTime:
    type: string
    format: date-time
  ElectricalPart:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      created_at:
        "$ref": "#/$defs/DateTime"
      voltage:
        "$ref": "#/$defs/Int"
      manufacturer_id:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/ID"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: ElectricalPart
        default: ElectricalPart
    required:
    - id
    - name
    - created_at
    - voltage
    - manufacturer_id
  Float:
    type: number
  GeoLocation:
    type: object
    properties:
      latitude:
        allOf:
        - "$ref": "#/$defs/Float"
        - minimum: -90
          maximum: 90
      longitude:
        allOf:
        - "$ref": "#/$defs/Float"
        - minimum: -180
          maximum: 180
      __typename:
        type: string
        const: GeoLocation
        default: GeoLocation
    required:
    - latitude
    - longitude
  GeoShape:
    type: object
    properties:
      type:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      coordinates:
        type: array
        items:
          "$ref": "#/$defs/Float"
      __typename:
        type: string
        const: GeoShape
        default: GeoShape
    required:
    - type
    - coordinates
  ID:
    type: string
  Int:
    type: integer
    minimum: -2147483648
    maximum: 2147483647
  Inventor:
    required:
    - __typename
    oneOf:
    - "$ref": "#/$defs/Person"
    - "$ref": "#/$defs/Company"
  JsonSafeLong:
    type: integer
    minimum: -9007199254740991
    maximum: 9007199254740991
  LocalTime:
    type: string
    pattern: "^(([0-1][0-9])|(2[0-3])):[0-5][0-9]:[0-5][0-9](\\.[0-9]{1,3})?$"
  LongString:
    type: integer
    minimum: -9223372036854775808
    maximum: 9223372036854775807
  Manufacturer:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      created_at:
        "$ref": "#/$defs/DateTime"
      __typename:
        type: string
        const: Manufacturer
        default: Manufacturer
    required:
    - id
    - name
    - created_at
  Material:
    type: string
    enum:
    - ALLOY
    - CARBON_FIBER
  MechanicalPart:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      created_at:
        "$ref": "#/$defs/DateTime"
      material:
        anyOf:
        - "$ref": "#/$defs/Material"
        - type: 'null'
      manufacturer_id:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/ID"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: MechanicalPart
        default: MechanicalPart
    required:
    - id
    - name
    - created_at
    - material
    - manufacturer_id
  Money:
    type: object
    properties:
      currency:
        allOf:
        - "$ref": "#/$defs/String"
        - maxLength: 8191
      amount_cents:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      __typename:
        type: string
        const: Money
        default: Money
    required:
    - currency
    - amount_cents
  NamedInventor:
    required:
    - __typename
    oneOf:
    - "$ref": "#/$defs/Person"
    - "$ref": "#/$defs/Company"
  Person:
    type: object
    properties:
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      nationality:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: Person
        default: Person
    required:
    - name
    - nationality
  Player:
    type: object
    properties:
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      nicknames:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
      affiliations:
        "$ref": "#/$defs/Affiliations"
      seasons_nested:
        type: array
        items:
          "$ref": "#/$defs/PlayerSeason"
      seasons_object:
        type: array
        items:
          "$ref": "#/$defs/PlayerSeason"
      __typename:
        type: string
        const: Player
        default: Player
    required:
    - name
    - nicknames
    - affiliations
    - seasons_nested
    - seasons_object
  PlayerSeason:
    type: object
    properties:
      year:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      games_played:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      awards:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
      __typename:
        type: string
        const: PlayerSeason
        default: PlayerSeason
    required:
    - year
    - games_played
    - awards
  Position:
    type: object
    properties:
      x:
        "$ref": "#/$defs/Float"
      "y":
        "$ref": "#/$defs/Float"
      __typename:
        type: string
        const: Position
        default: Position
    required:
    - x
    - "y"
  Size:
    type: string
    enum:
    - SMALL
    - MEDIUM
    - LARGE
  Sponsor:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: Sponsor
        default: Sponsor
    required:
    - id
    - name
  Sponsorship:
    type: object
    properties:
      sponsor_id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      annual_total:
        "$ref": "#/$defs/Money"
      __typename:
        type: string
        const: Sponsorship
        default: Sponsorship
    required:
    - sponsor_id
    - annual_total
  String:
    type: string
  Team:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      league:
        allOf:
        - "$ref": "#/$defs/String"
        - maxLength: 8191
          pattern: "[^ \t\n]+"
      country_code:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      formed_on:
        "$ref": "#/$defs/Date"
      current_name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      past_names:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
      won_championships_at:
        type: array
        items:
          "$ref": "#/$defs/DateTime"
      details:
        anyOf:
        - "$ref": "#/$defs/TeamDetails"
        - type: 'null'
      stadium_location:
        anyOf:
        - "$ref": "#/$defs/GeoLocation"
        - type: 'null'
      forbes_valuations:
        type: array
        items:
          "$ref": "#/$defs/JsonSafeLong"
      forbes_valuation_moneys_nested:
        type: array
        items:
          "$ref": "#/$defs/Money"
      forbes_valuation_moneys_object:
        type: array
        items:
          "$ref": "#/$defs/Money"
      current_players_nested:
        type: array
        items:
          "$ref": "#/$defs/Player"
      current_players_object:
        type: array
        items:
          "$ref": "#/$defs/Player"
      seasons_nested:
        type: array
        items:
          "$ref": "#/$defs/TeamSeason"
      seasons_object:
        type: array
        items:
          "$ref": "#/$defs/TeamSeason"
      nested_fields:
        anyOf:
        - "$ref": "#/$defs/TeamNestedFields"
        - type: 'null'
      nested_fields2:
        anyOf:
        - "$ref": "#/$defs/TeamNestedFields"
        - type: 'null'
      __typename:
        type: string
        const: Team
        default: Team
    required:
    - id
    - league
    - country_code
    - formed_on
    - current_name
    - past_names
    - won_championships_at
    - details
    - stadium_location
    - forbes_valuations
    - forbes_valuation_moneys_nested
    - forbes_valuation_moneys_object
    - current_players_nested
    - current_players_object
    - seasons_nested
    - seasons_object
    - nested_fields
    - nested_fields2
  TeamDetails:
    type: object
    properties:
      uniform_colors:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
      count:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      __typename:
        type: string
        const: TeamDetails
        default: TeamDetails
    required:
    - uniform_colors
    - count
  TeamNestedFields:
    type: object
    properties:
      forbes_valuation_moneys:
        type: array
        items:
          "$ref": "#/$defs/Money"
      current_players:
        type: array
        items:
          "$ref": "#/$defs/Player"
      seasons:
        type: array
        items:
          "$ref": "#/$defs/TeamSeason"
      __typename:
        type: string
        const: TeamNestedFields
        default: TeamNestedFields
    required:
    - forbes_valuation_moneys
    - current_players
    - seasons
  TeamRecord:
    type: object
    properties:
      wins:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      losses:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      last_win_on:
        anyOf:
        - "$ref": "#/$defs/Date"
        - type: 'null'
      first_win_on:
        anyOf:
        - "$ref": "#/$defs/Date"
        - type: 'null'
      __typename:
        type: string
        const: TeamRecord
        default: TeamRecord
    required:
    - wins
    - losses
    - last_win_on
    - first_win_on
  TeamSeason:
    type: object
    properties:
      record:
        anyOf:
        - "$ref": "#/$defs/TeamRecord"
        - type: 'null'
      year:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      notes:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
      count:
        anyOf:
        - "$ref": "#/$defs/Int"
        - type: 'null'
      started_at:
        anyOf:
        - "$ref": "#/$defs/DateTime"
        - type: 'null'
      won_games_at:
        type: array
        items:
          "$ref": "#/$defs/DateTime"
      was_shortened:
        anyOf:
        - "$ref": "#/$defs/Boolean"
        - type: 'null'
      players_nested:
        type: array
        items:
          "$ref": "#/$defs/Player"
      players_object:
        type: array
        items:
          "$ref": "#/$defs/Player"
      __typename:
        type: string
        const: TeamSeason
        default: TeamSeason
    required:
    - record
    - year
    - notes
    - count
    - started_at
    - won_games_at
    - was_shortened
    - players_nested
    - players_object
  Untyped:
    type:
    - array
    - boolean
    - integer
    - number
    - object
    - string
  Widget:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      workspace_id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
          pattern: "[^ \t\n]+"
      amount_cents:
        "$ref": "#/$defs/Int"
      cost:
        anyOf:
        - "$ref": "#/$defs/Money"
        - type: 'null'
      cost_currency_unit:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      cost_currency_name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      cost_currency_symbol:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      cost_currency_primary_continent:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      cost_currency_introduced_on:
        anyOf:
        - "$ref": "#/$defs/Date"
        - type: 'null'
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      name_text:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 104857600
        - type: 'null'
      description:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 104857600
        - type: 'null'
      created_at:
        "$ref": "#/$defs/DateTime"
      created_at_time_of_day:
        anyOf:
        - "$ref": "#/$defs/LocalTime"
        - type: 'null'
      created_on:
        anyOf:
        - "$ref": "#/$defs/Date"
        - type: 'null'
      release_timestamps:
        type: array
        items:
          "$ref": "#/$defs/DateTime"
      release_dates:
        type: array
        items:
          "$ref": "#/$defs/Date"
      component_ids:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/ID"
          - maxLength: 8191
      options:
        anyOf:
        - "$ref": "#/$defs/WidgetOptions"
        - type: 'null'
      the_options:
        anyOf:
        - "$ref": "#/$defs/WidgetOptions"
        - type: 'null'
      inventor:
        anyOf:
        - "$ref": "#/$defs/Inventor"
        - type: 'null'
      named_inventor:
        anyOf:
        - "$ref": "#/$defs/NamedInventor"
        - type: 'null'
      weight_in_ng_str:
        "$ref": "#/$defs/LongString"
      weight_in_ng:
        "$ref": "#/$defs/JsonSafeLong"
      tags:
        type: array
        items:
          allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
      amounts:
        type: array
        items:
          "$ref": "#/$defs/Int"
      fees:
        type: array
        items:
          "$ref": "#/$defs/Money"
      metadata:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/Untyped"
          - maxLength: 8191
        - type: 'null'
      __typename:
        type: string
        const: Widget
        default: Widget
    required:
    - id
    - workspace_id
    - amount_cents
    - cost
    - cost_currency_unit
    - cost_currency_name
    - cost_currency_symbol
    - cost_currency_primary_continent
    - cost_currency_introduced_on
    - name
    - name_text
    - description
    - created_at
    - created_at_time_of_day
    - created_on
    - release_timestamps
    - release_dates
    - component_ids
    - options
    - the_options
    - inventor
    - named_inventor
    - weight_in_ng_str
    - weight_in_ng
    - tags
    - amounts
    - fees
    - metadata
  WidgetOptions:
    type: object
    properties:
      size:
        anyOf:
        - "$ref": "#/$defs/Size"
        - type: 'null'
      the_size:
        anyOf:
        - "$ref": "#/$defs/Size"
        - type: 'null'
      color:
        anyOf:
        - "$ref": "#/$defs/Color"
        - type: 'null'
      is_draft:
        anyOf:
        - "$ref": "#/$defs/Boolean"
        - type: 'null'
      __typename:
        type: string
        const: WidgetOptions
        default: WidgetOptions
    required:
    - size
    - the_size
    - color
    - is_draft
  WidgetWorkspace:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      name:
        anyOf:
        - allOf:
          - "$ref": "#/$defs/String"
          - maxLength: 8191
        - type: 'null'
      widget:
        anyOf:
        - "$ref": "#/$defs/WorkspaceWidget"
        - type: 'null'
      __typename:
        type: string
        const: WidgetWorkspace
        default: WidgetWorkspace
    required:
    - id
    - name
    - widget
  WorkspaceWidget:
    type: object
    properties:
      id:
        allOf:
        - "$ref": "#/$defs/ID"
        - maxLength: 8191
      created_at:
        anyOf:
        - "$ref": "#/$defs/DateTime"
        - type: 'null'
      __typename:
        type: string
        const: WorkspaceWidget
        default: WorkspaceWidget
    required:
    - id
    - created_at
